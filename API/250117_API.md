# API란?

API(Application Programming Interface)는 소프트웨어 애플리케이션 간의 상호 작용을 가능하게 하는 인터페이스입니다. API는 다양한 소프트웨어 구성 요소가 서로 통신하고 데이터를 교환할 수 있도록 정의된 규칙과 프로토콜의 집합입니다.

## 주요 특징
- **추상화**: 복잡한 구현 세부 사항을 숨기고 간단한 인터페이스를 제공합니다.
- **재사용성**: 동일한 API를 여러 애플리케이션에서 재사용할 수 있습니다.
- **모듈화**: 소프트웨어를 모듈화하여 유지보수와 확장이 용이합니다.

## API 사용 방법 및 가이드라인

### API 사용 방법
1. **API 키 발급**: 대부분의 API는 사용하기 전에 API 키를 발급받아야 합니다. API 제공자의 웹사이트에서 회원가입 후 API 키를 발급받을 수 있습니다.
2. **문서 확인**: API 제공자가 제공하는 문서를 꼼꼼히 읽어보세요. 사용 가능한 엔드포인트, 요청 형식, 응답 형식 등을 이해하는 것이 중요합니다.
3. **요청 보내기**: API 엔드포인트에 HTTP 요청을 보냅니다. 일반적으로 GET, POST, PUT, DELETE 등의 메서드를 사용합니다.
4. **응답 처리**: API로부터 받은 응답 데이터를 처리합니다. JSON, XML 등의 형식으로 응답이 올 수 있습니다.
5. **에러 처리**: API 요청이 실패할 경우를 대비해 에러 처리를 구현합니다. HTTP 상태 코드와 에러 메시지를 확인합니다.

### API 사용 가이드라인
- **보안**: API 키를 안전하게 관리하고, HTTPS를 사용하여 데이터를 암호화합니다.
- **최적화**: 필요한 데이터만 요청하고, 가능한 한 적은 수의 요청을 보냅니다.
- **버전 관리**: API의 버전을 명시적으로 지정하여 호환성을 유지합니다.
- **제한 준수**: API 제공자가 정한 사용 제한(쿼터)을 준수합니다.
- **캐싱**: 자주 변경되지 않는 데이터는 캐싱하여 성능을 향상시킵니다.
- **로그 기록**: API 요청과 응답을 로그로 기록하여 문제 발생 시 디버깅에 활용합니다.
- **테스트**: 다양한 시나리오를 고려하여 API를 충분히 테스트합니다.
- **문서화**: API 사용 방법과 예제를 문서화하여 팀원들과 공유합니다.

## 예시
- **REST API**: HTTP를 통해 리소스를 CRUD(Create, Read, Update, Delete) 방식으로 조작할 수 있는 API.
- **GraphQL API**: 클라이언트가 필요한 데이터만 요청할 수 있도록 하는 유연한 쿼리 언어 기반 API.
- **iOS, Android SDK**: 모바일 애플리케이션 개발을 위한 소프트웨어 개발 키트(SDK). 하드웨어 및 소프트웨어 기능에 접근할 수 있는 도구와 라이브러리를 포함.
    - 핸드폰의 각종 기능들을 구현
    - **SDK**: 각종 기능들을 이용할 수 있는 함수 정의
    - **iOS Language**: Objective-C, Swift
    - **Android Language**: Java, Kotlin
- **소셜 로그인 API**: 사용자가 별도의 회원가입 없이 소셜 미디어 계정을 통해 애플리케이션에 로그인할 수 있도록 하는 API.
    - **OAuth**: 인증을 위한 표준 프로토콜로, 사용자가 애플리케이션에 자신의 소셜 미디어 계정을 안전하게 연결할 수 있게 합니다.
    - **예시**: Facebook Login, Google Sign-In, Twitter Login 등.
    - **장점**: 사용자 편의성 증가, 빠른 로그인, 보안 강화.
- **Weather API**: 기상 데이터를 제공하는 API로, 현재 날씨, 예보, 기온, 강수량, 바람 등의 정보를 제공합니다.
    - **사용 예시**: 날씨 애플리케이션, 여행 계획 애플리케이션, 농업 관련 서비스 등.
    - **주요 제공 데이터**:
        - 현재 날씨: 온도, 습도, 바람 속도, 기압 등.
        - 예보: 일별, 시간별 날씨 예보.
        - 기상 경고: 폭풍, 홍수, 폭염 등의 기상 경고.
    - **대표적인 Weather API 서비스**:
        - OpenWeatherMap
        - Weatherstack
        - AccuWeather
        - Weatherbit
    - **장점**: 실시간 기상 정보 제공, 다양한 기상 데이터 활용 가능, 사용자 맞춤형 서비스 제공.

## API Key란?

API Key는 API를 호출할 때 사용자를 인증하고 권한을 부여하기 위해 사용되는 고유한 식별자입니다. API 제공자는 API Key를 통해 누가 API를 호출하고 있는지 식별하고, 사용량을 추적하며, 권한을 관리할 수 있습니다.

ex) 우리집 문 번호키 등...

### API Key 발급 및 사용
1. **회원가입 및 로그인**: API 제공자의 웹사이트에서 회원가입을 하고 로그인합니다.
2. **API Key 발급 요청**: API Key 발급 페이지에서 새로운 API Key를 요청합니다.
3. **API Key 저장**: 발급받은 API Key를 안전한 장소에 저장합니다. 코드에 직접 포함시키지 말고 환경 변수나 설정 파일을 사용하여 관리합니다.
4. **API 호출 시 사용**: API 요청 헤더나 URL 파라미터에 API Key를 포함시켜 API를 호출합니다.

## API 보안을 신경써야 하는 이유

API 보안은 매우 중요합니다. API를 통해 민감한 데이터가 전송되거나 중요한 기능이 수행될 수 있기 때문에, 보안에 취약한 API는 여러 가지 위험을 초래할 수 있습니다.

> 배포할때 .gitignore를 활용하여 API Key를 보안하는 방법을 사용

### API 보안을 강화하는 방법
- **HTTPS 사용**: 데이터를 암호화하여 전송 중에 도청이나 변조를 방지합니다.
- **API Key 보호**: API Key를 코드에 직접 포함시키지 말고, 환경 변수나 설정 파일을 사용하여 관리합니다.
- **인증 및 권한 부여**: OAuth와 같은 표준 프로토콜을 사용하여 사용자 인증 및 권한 부여를 구현합니다.
- **요청 제한**: IP 주소나 사용자별로 요청 수를 제한하여 악의적인 사용을 방지합니다.
- **입력 검증**: 모든 입력 데이터를 검증하여 SQL 인젝션, XSS 등의 공격을 방지합니다.
- **로그 및 모니터링**: API 요청과 응답을 로그로 기록하고, 이상 징후를 모니터링하여 신속하게 대응합니다.

## API 비용

API를 사용할 때는 비용이 발생할 수 있습니다. API 제공자는 다양한 요금제를 통해 API 사용량에 따라 비용을 청구합니다.

### 비용 구조
- **무료 요금제**: 제한된 사용량 내에서 무료로 API를 사용할 수 있습니다. 주로 개발 및 테스트 용도로 사용됩니다.
- **유료 요금제**: 사용량에 따라 비용이 청구됩니다. 일반적으로 월별 구독 형태로 제공되며, 사용량이 많을수록 비용이 증가합니다.
- **종량제 요금제**: API 호출 수나 데이터 전송량에 따라 비용이 청구됩니다. 사용량이 변동하는 경우 유리할 수 있습니다.

### 비용 절감 방법
- **무료 요금제 활용**: 가능한 경우 무료 요금제를 최대한 활용하여 비용을 절감합니다.
- **요청 최적화**: 필요한 데이터만 요청하고, 불필요한 API 호출을 줄입니다.
- **캐싱 사용**: 자주 변경되지 않는 데이터를 캐싱하여 API 호출 수를 줄입니다.
- **사용량 모니터링**: API 사용량을 지속적으로 모니터링하고, 필요에 따라 요금제를 조정합니다.

### 대표적인 API 제공자의 요금제 예시
- **Google Cloud API**: 무료 사용 한도 제공, 사용량에 따른 종량제 요금.
- **AWS API Gateway**: 무료 사용 한도 제공, API 호출 수와 데이터 전송량에 따른 요금.
- **Microsoft Azure API Management**: 다양한 요금제 제공, 사용량에 따른 요금.

