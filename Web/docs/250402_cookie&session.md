# HTTP (HyperText Transfer Protocol)

HTTP는 웹에서 클라이언트와 서버 간의 통신을 위한 프로토콜입니다.

## 주요 특징

1. **무상태성(Stateless)**

   - 각각의 요청이 독립적으로 처리됨
   - 이전 요청과 현재 요청 간의 연관성이 없음
2. **비연결성(Connectionless)**

   - 요청에 대한 응답을 주고 연결을 끊음
   - 불필요한 연결을 유지하지 않아 자원을 효율적으로 사용

## HTTP 메서드

- GET: 리소스 조회
- POST: 리소스 생성
- PUT: 리소스 수정
- DELETE: 리소스 삭제
- PATCH: 리소스 부분 수정

## HTTP 상태 코드

- 1xx: 정보
- 2xx: 성공
- 3xx: 리다이렉션
- 4xx: 클라이언트 오류
- 5xx: 서버 오류

## HTTP 헤더

요청과 응답에 대한 추가 정보를 포함:

- Content-Type
- Authorization
- Cookie
- Cache-Control

---

# Cookie

쿠키는 웹사이트가 사용자의 브라우저에 저장하는 작은 데이터 조각입니다.

## 주요 특징

1. **클라이언트 측 저장**

   - 브라우저에 텍스트 형태로 저장
   - 용량 제한 (일반적으로 4KB)
2. **만료 기간 설정 가능**

   - Session Cookie: 브라우저 종료시 삭제
   - Persistent Cookie: 지정된 만료일까지 유지
3. **도메인 제한**

   - 특정 도메인에서만 접근 가능
   - 보안을 위한 Same-Origin Policy 적용

## 주요 용도

- 사용자 로그인 상태 유지
- 사용자 선호도 저장
- 장바구니 정보 저장
- 웹 분석 및 트래킹

## 쿠키 동작 예시

1. 브라우저가 웹 서버에 웹 페이지 요청
2. 웹 서버는 요청된 페이지와 쿠키를 포함한 응답을 브라우저에게 전송
3. 브라우저는 받은 쿠키를 저장소에 저장
   - 쿠키의 속성 : 만료시간, 도메인, 주소 등
4. 브라우저가 같은 웹 서버에 웹페이지를 요청할 때,
   저장된 쿠키 중 해당 요청에 적용가능한 쿠키를 포함하여 전송
5. 웹 서버가 받은 쿠키정보를 확인하고, 필요에 따라 사용자 식별, 세션 관리 등 수행
6. 웹 서버는 요청한 응답을 보내고 필요한 경우 새로운 쿠키를 설정하거나 기존 쿠키를 수정함

### 정리

> 1. Client -> Server : 페이지 요청
> 2. Server -> Client : 페이지 및 쿠키 전송
> 3. Client : 쿠키 저장
> 4. Client -> Server : 페이지 요청 및 쿠키 전송
> 5. Server : 쿠키 정보 확인 및 작업 수행
> 6. Server -> Client : 페이지 및 쿠키(필요시 추가 및 수정) 전송

## 쿠키의 작동 원리와 활용

1. **쿠키 저장 방식**
   - Client는 쿠키를 Key - Value 형식으로 저장
   - 쿠키에는 이름, 값 외에 만료시간, 도메인, 경로 등 추가 속성이 포함 됨
2. **쿠키 전송 과정**
   - Server는 HTTP 응답 헤더의 Set-Cookie 필드를 통해 Client에게 쿠키를 전송
   - Client는 받은 쿠키를 저장해 두었다가, 동일한 서버에 재요청시 HTTP
     요청 Header의 Cookie 필드에 저장된 쿠키를 함께 전송
3. **쿠키의 주요 용도**
   - 두 요청이 동일한 Client에게 들어왔는지 아닌지 판단
   - 로그인 상태유지
   - stateless HTTP 프로토콜에서 상태 정보를 기억시켜 줌

- 서버에게 "나 로그인된 사용자야!" 라는 인증 정보가 담긴 쿠키를 매 요청마다 보내는 것

## 쿠키 사용 목적

1. **세션 관리(Session management)**
   - 로그인, 아이디 자동완성, 공지 하루 안보기, 팝업 체크, 장바구니 등
2. **개인화(Personalization)**
   - 사용자 선호 설정(언어 설정, 테마 등) 저장
3. **트래킹(Tracking)**
   - 사용자 행동 기록 및 분석

---

# Session(세션)

## 세션이란?
- 웹 서버가 클라이언트의 정보를 임시로 저장하는 기술
- 사용자가 웹 서버에 접속해 있는 상태를 하나의 '세션'이라고 함
- 각 클라이언트에게 고유한 세션 ID를 부여하여 클라이언트를 식별

## 세션의 특징
1. **서버 측 저장**
   - 세션은 서버에 데이터를 저장
   - 쿠키는 클라이언트에 저장되는 것과 대비됨
   - 보안에 더 안전함

2. **임시 저장**
   - 세션은 클라이언트가 로그아웃하거나 설정 시간이 경과하면 종료됨
   - 브라우저 종료시에도 세션은 종료됨

3. **메모리 사용**
   - 서버의 메모리를 사용하므로 과도한 세션 사용은 서버 부하의 원인이 될 수 있음

## 세션의 동작 방식
1. 클라이언트가 웹사이트 접속 시 서버는 세션 ID 생성
2. 서버는 세션 ID를 클라이언트에게 쿠키로 전송
3. 클라이언트는 재접속 시 쿠키에 저장된 세션 ID를 서버에 전달
4. 서버는 세션 ID를 통해 클라이언트 식별 및 해당 정보 처리

## 세션의 사용 목적
1. **사용자 인증**
   - 로그인 상태 유지
   - 권한 관리

2. **정보 저장**
   - 민감한 데이터 저장
   - 장바구니 등 임시 데이터 저장

3. **보안**
   - 중요 정보를 서버에서 관리
   - XSS, CSRF 등 보안 위협 방지

## 쿠키와 세션의 차이점
1. **저장 위치**
   - 쿠키: 클라이언트
   - 세션: 서버

2. **보안**
   - 쿠키: 클라이언트에 저장되어 보안에 취약
   - 세션: 서버에 저장되어 상대적으로 안전

3. **라이프사이클**
   - 쿠키: 설정된 만료 시간까지 유지
   - 세션: 브라우저 종료 시 삭제

4. **용량 제한**
   - 쿠키: 약 4KB
   - 세션: 서버가 허용하는 범위
